<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="shortcut icon" type="image/png" href="favicon-32.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Nunito:wght@400&display=swap");
    </style>
    <title>Document</title>
    <style>
      #c {
        border: 1px solid black;
      }
    </style>
  </head>
  <body>
    <canvas id="c" width="480" height="270"></canvas>
    <!-- <input type="submit" value="check size" id="b"></input> -->
    <video width="1920" height="1080" id="vid" style="display: none" muted loop>
      <source src="http://magicandpixels.com/vid.mp4" />
    </video>
    <script src="jquery-3.5.1.min.js"></script>
    <script src="fabric.min.js"></script>
    <script>
      let canvas = new fabric.Canvas("c");
      //   textExample = "words";
      //   textExample = "words words words words words words words  ";
      // textExample = "words words words words words words words words words words words words words words";
      textExample = "Get the most from your daily tasks with our product";
      let vid = document.getElementById("vid");

      let video1 = new fabric.Image(vid, {
        left: 0,
        top: 0,
        scaleX: 0.25,
        scaleY: 0.25,

        // the following lines prevent editablity
        hasControls: false,
        hasBorders: false,
        lockMovementX: true,
        lockMovementY: true,
        lockRotation: true,
        selectable: false,
        hoverCursor: "arrow",
      });
      canvas.add(video1);
      video1.getElement().play();

      let text = new fabric.Textbox(textExample, {
        left: 24,
        top: 0,
        width: 432,
        fontSize: 32,
        fontFamily: "Nunito", // activates editablity for some reason
        textBackgroundColor: "rgba(0,0,0,.8)",
        fill: "yellow",
        // the following lines prevent editablity
        hasControls: false,
        hasBorders: false,
        lockMovementX: true,
        lockMovementY: true,
        lockRotation: true,
        selectable: false,
        hoverCursor: "arrow",
      });
      canvas.add(text);

      let topVal = canvas.height - text.height - 24;
      text.top = topVal;

      fabric.util.requestAnimFrame(function render() {
        canvas.renderAll();
        fabric.util.requestAnimFrame(render);
      });
    </script>
  </body>
</html>
